var t="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;var r=Math.PI/180;function e(t){return t*r}function n(){var r=new t(16);return t!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});var o=function(t,r,e,n,o){var a,i=1/Math.tan(r/2);return t[0]=i/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(a=1/(n-o),t[10]=(o+n)*a,t[14]=2*o*n*a):(t[10]=-1,t[14]=-2*n),t};var a,i,s,c,h,f,u,l,m,v,g,_,d,A,b,w,L,R;class y{constructor(t,r,e,n){this.gl=t,this.type=r,this.attributeLocation=this.gl.getAttribLocation(e,n),this.buffer=this.gl.createBuffer()}bufferFormat(t,r,e,n){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.vertexAttribPointer(this.attributeLocation,t,this.type,r,e,n),this.gl.enableVertexAttribArray(this.attributeLocation)}setData(t,r){switch(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.type){case this.gl.FLOAT:this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),r);break;case this.gl.UNSIGNED_BYTE:this.gl.bufferData(this.gl.ARRAY_BUFFER,new Uint8Array(t),r)}}}class E{constructor(t,r,e,n){this.gl=t,this.type=n,this.uniformLocation=t.getUniformLocation(r,e)}setData(...t){switch(this.type){case"uniform1f":this.gl.uniform1f(this.uniformLocation,t[0]);break;case"uniform2f":this.gl.uniform2f(this.uniformLocation,t[0],t[1]);break;case"uniform4f":this.gl.uniform4f(this.uniformLocation,t[0],t[1],t[2],t[3]);break;case"uniform2fv":this.gl.uniform2fv(this.uniformLocation,t[0]);break;case"uniform3fv":this.gl.uniform3fv(this.uniformLocation,t[0]);break;case"uniform4fv":this.gl.uniform4fv(this.uniformLocation,t[0]);break;case"uniformMatrix3fv":this.gl.uniformMatrix3fv(this.uniformLocation,!1,t[0]);break;case"uniformMatrix4fv":this.gl.uniformMatrix4fv(this.uniformLocation,!1,t[0]);break;default:throw new Error(`UniformClass: function ${this.type} has not been implemented.`)}}}function F(t,r,e){const n=t.createShader(r);t.shaderSource(n,e),t.compileShader(n);if(t.getShaderParameter(n,t.COMPILE_STATUS))return n;{const r=t.getShaderInfoLog(n);throw t.deleteShader(n),new Error("createShader: "+r)}}try{const t=function(t,r="webgl2",e){const n=document.getElementById(t);if(!n)throw new Error(`createGLContext: Could not locate canvas element with id ${t}`);return{gl:n.getContext(r,e),canvas:n}}("my_canvas"),r=t.gl;!function(t){const r=t.clientWidth,e=t.clientHeight,n=t.width!==r||t.height!==e;n&&(t.width=r,t.height=e)}(t.canvas),r.viewport(0,0,r.canvas.width,r.canvas.height);const p=F(r,r.VERTEX_SHADER,"#version 300 es\n\nin vec4 a_position_v4;\nin vec4 a_color_v4;\n\nuniform mat4 u_modelview_m4;\nuniform mat4 u_projection_m4;\n\n// A varying the color to fragment shader\nout vec4 v_color_v4;\n\nvoid main(void) {\n  gl_Position = u_projection_m4 * u_modelview_m4 * a_position_v4;\n  // Pass the color to the fragment shader\n  v_color_v4 = a_color_v4;\n}\n"),S=function(t,r,e){const n=t.createProgram();if(t.attachShader(n,r),t.attachShader(n,e),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS))return n;{const r=t.getProgramInfoLog(n);throw t.deleteProgram(n),new Error("createProgram: "+r)}}(r,p,F(r,r.FRAGMENT_SHADER,"#version 300 es\n\nprecision highp float;\n\n// Passed in from the vertex shader\nin vec4 v_color_v4;\n\n// We need to declare an output for the fragment shader\nout vec4 outColor_v4;\n\nvoid main() {\n  outColor_v4 = v_color_v4;\n}"));r.useProgram(S);const P=[1,1,-1,1,1,-1,-1,-1],T=r.FLOAT,D=new y(r,T,S,"a_position_v4");D.setData(P,r.STATIC_DRAW);const M=[1,1,1,1,1,0,0,1,0,1,0,1,0,0,1,1],B=new y(r,T,S,"a_color_v4");B.setData(M,r.STATIC_DRAW);const I=r.createVertexArray();r.bindVertexArray(I);{const t=2,r=!1,e=0,n=0;D.bufferFormat(t,r,e,n)}{const t=4,r=!1,e=0,n=0;B.bufferFormat(t,r,e,n)}const x=n();a=x,i=x,w=(s=[0,0,-6])[0],L=s[1],R=s[2],i===a?(a[12]=i[0]*w+i[4]*L+i[8]*R+i[12],a[13]=i[1]*w+i[5]*L+i[9]*R+i[13],a[14]=i[2]*w+i[6]*L+i[10]*R+i[14],a[15]=i[3]*w+i[7]*L+i[11]*R+i[15]):(c=i[0],h=i[1],f=i[2],u=i[3],l=i[4],m=i[5],v=i[6],g=i[7],_=i[8],d=i[9],A=i[10],b=i[11],a[0]=c,a[1]=h,a[2]=f,a[3]=u,a[4]=l,a[5]=m,a[6]=v,a[7]=g,a[8]=_,a[9]=d,a[10]=A,a[11]=b,a[12]=c*w+l*L+_*R+i[12],a[13]=h*w+m*L+d*R+i[13],a[14]=f*w+v*L+A*R+i[14],a[15]=u*w+g*L+b*R+i[15]);new E(r,S,"u_modelview_m4","uniformMatrix4fv").setData(x);{const t=e(45),a=r.canvas.clientWidth/r.canvas.clientHeight,i=.1,s=100,c=n();o(c,t,a,i,s);new E(r,S,"u_projection_m4","uniformMatrix4fv").setData(c)}!function(t,r=[0,0,0,1]){t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.clearColor(r[0],r[1],r[2],r[3]),t.clearDepth(1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}(r);const C=r.TRIANGLE_STRIP,U=0,k=P.length/2;r.drawArrays(C,U,k)}catch(t){console.log(t)}
//# sourceMappingURL=index.fa4dde18.js.map
