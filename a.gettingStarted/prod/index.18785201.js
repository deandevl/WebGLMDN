var t="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;var e=Math.PI/180;function r(t){return t*e}function n(){var e=new t(16);return t!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var i=function(t,e,r,n,i){var o,a=1/Math.tan(e/2);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(n-i),t[10]=(i+n)*o,t[14]=2*i*n*o):(t[10]=-1,t[14]=-2*n),t};var o,a,s,h,c,f,u,l,m,g,d,v,_,b,A,p,w,L;class R{constructor(t,e,r,n){this.gl=t,this.type=e,this.attributeLocation=this.gl.getAttribLocation(r,n),this.buffer=this.gl.createBuffer()}bufferFormat(t,e,r,n){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.vertexAttribPointer(this.attributeLocation,t,this.type,e,r,n),this.gl.enableVertexAttribArray(this.attributeLocation)}setData(t,e){switch(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.type){case this.gl.FLOAT:this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),e);break;case this.gl.UNSIGNED_BYTE:this.gl.bufferData(this.gl.ARRAY_BUFFER,new Uint8Array(t),e)}}}class E{constructor(t,e,r,n){this.gl=t,this.type=n,this.uniformLocation=t.getUniformLocation(e,r)}setData(...t){switch(this.type){case"uniform1f":this.gl.uniform1f(this.uniformLocation,t[0]);break;case"uniform2f":this.gl.uniform2f(this.uniformLocation,t[0],t[1]);break;case"uniform4f":this.gl.uniform4f(this.uniformLocation,t[0],t[1],t[2],t[3]);break;case"uniform2fv":this.gl.uniform2fv(this.uniformLocation,t[0]);break;case"uniform3fv":this.gl.uniform3fv(this.uniformLocation,t[0]);break;case"uniform4fv":this.gl.uniform4fv(this.uniformLocation,t[0]);break;case"uniformMatrix3fv":this.gl.uniformMatrix3fv(this.uniformLocation,!1,t[0]);break;case"uniformMatrix4fv":this.gl.uniformMatrix4fv(this.uniformLocation,!1,t[0]);break;default:throw new Error(`UniformClass: function ${this.type} has not been implemented.`)}}}function F(t,e,r){const n=t.createShader(e);t.shaderSource(n,r),t.compileShader(n);if(t.getShaderParameter(n,t.COMPILE_STATUS))return n;{const e=t.getShaderInfoLog(n);throw t.deleteShader(n),new Error("createShader: "+e)}}try{const t=function(t,e="webgl2",r){const n=document.getElementById(t);if(!n)throw new Error(`createGLContext: Could not locate canvas element with id ${t}`);return{gl:n.getContext(e,r),canvas:n}}("my_canvas"),e=t.gl;!function(t){const e=t.clientWidth,r=t.clientHeight,n=t.width!==e||t.height!==r;n&&(t.width=e,t.height=r)}(t.canvas),e.viewport(0,0,e.canvas.width,e.canvas.height);const y=F(e,e.VERTEX_SHADER,"#version 300 es\n// Vertex Shader\n// An attribute will receive data from a buffer\nin vec4 a_position_v4;\n\nuniform mat4 u_model_view_m4;\nuniform mat4 u_projection_m4;\n\n// All shaders have a main function\nvoid main() {\n  // gl_Position is a special variable\n  //   a vertex shader is responsible for setting\n  gl_Position = u_projection_m4 * u_model_view_m4 * a_position_v4;\n}"),S=function(t,e,r){const n=t.createProgram();if(t.attachShader(n,e),t.attachShader(n,r),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS))return n;{const e=t.getProgramInfoLog(n);throw t.deleteProgram(n),new Error("createProgram: "+e)}}(e,y,F(e,e.FRAGMENT_SHADER,'#version 300 es\n\n// Fragment shaders don\'t have a default precision so we need\n//   to pick one. highp is a good default. It means "high precision"\n\nprecision highp float;\n\n// We need to declare an output for the fragment shader\nout vec4 outColor_v4;\n\nvoid main() {\n  // outColor variable is responsible for setting (red, green, blue)\n  outColor_v4 = vec4(1, 0, 0.5, 1); // return reddish-purple\n}'));e.useProgram(S);const P=[1,1,-1,1,1,-1,-1,-1],T=new R(e,e.FLOAT,S,"a_position_v4");T.setData(P,e.STATIC_DRAW);const M=e.createVertexArray();e.bindVertexArray(M);{const t=2,e=!1,r=0,n=0;T.bufferFormat(t,e,r,n)}const x=n();o=x,a=x,p=(s=[0,0,-6])[0],w=s[1],L=s[2],a===o?(o[12]=a[0]*p+a[4]*w+a[8]*L+a[12],o[13]=a[1]*p+a[5]*w+a[9]*L+a[13],o[14]=a[2]*p+a[6]*w+a[10]*L+a[14],o[15]=a[3]*p+a[7]*w+a[11]*L+a[15]):(h=a[0],c=a[1],f=a[2],u=a[3],l=a[4],m=a[5],g=a[6],d=a[7],v=a[8],_=a[9],b=a[10],A=a[11],o[0]=h,o[1]=c,o[2]=f,o[3]=u,o[4]=l,o[5]=m,o[6]=g,o[7]=d,o[8]=v,o[9]=_,o[10]=b,o[11]=A,o[12]=h*p+l*w+v*L+a[12],o[13]=c*p+m*w+_*L+a[13],o[14]=f*p+g*w+b*L+a[14],o[15]=u*p+d*w+A*L+a[15]);new E(e,S,"u_model_view_m4","uniformMatrix4fv").setData(x);{const t=r(45),o=e.canvas.clientWidth/e.canvas.clientHeight,a=.1,s=100,h=n();i(h,t,o,a,s);new E(e,S,"u_projection_m4","uniformMatrix4fv").setData(h)}!function(t,e=[0,0,0,1]){t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.clearColor(e[0],e[1],e[2],e[3]),t.clearDepth(1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}(e);const B=e.TRIANGLE_STRIP,D=0,I=P.length/2;e.drawArrays(B,D,I)}catch(t){console.log(t)}
//# sourceMappingURL=index.18785201.js.map
